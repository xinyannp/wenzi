---
title: 微信公众号开发指南
tags: 微信,公众号,开发
grammar_cjkRuby: true
---
## 接入指南
1. 公众平台配置接收微信服务器消息的`URL`和`token`。
2. 在后台端处理微信服务器传过来的几个参数（`signature`，`timestamp`，`nonce`，`echostr`），进行校验操作。
2.1 将`token`，`timestamp`，`nonce`三个参数进行字典序排序。
2.2 将排序后的三个字符串拼接，并做`sha1`加密。
2.3 将加密后的字符串与`signature`进行比较，若内容一样，则返回给微信服务器，接入成功，反之接入失败。
3. 接入成功过后，用户每次向公众号发送消息、或者产生自定义菜单点击事件时，开发者填写的服务器配置`URL`将得到微信服务器推送过来的消息和事件，然后开发者可以依据自身业务逻辑进行响应，例如回复消息。

## 接口开发

### 网页授权（OAuth2.0）
#### **网页授权流程分为四步：**
1. 引导用户进入授权页面授权，获取`code`
2. 通过`code`换取网页授权`access_token`（与基础支持中的`access_token`不同）。
3. 如果需要，开发者可以刷新网页授权`access_token`，避免过期。
4. 通过网页授权`access_token`和`openid`获取用户基本信息（支持`UnionId`机制）。